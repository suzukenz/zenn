---
title: "[Next.js][App Router]Client Componentã‚’ä½¿ã£ã¦Server Componentã‚’Layoutã™ã‚‹"
emoji: "ğŸ“‘"
type: "tech"
topics:
  - "nextjs"
  - "react"
published: true
published_at: "2023-06-21 21:06"
---

ãŸã¨ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«[Chakra UI](https://chakra-ui.com/)ã®Gridã‚’ä½¿ã£ã¦ã€Server Componentã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã—ãŸã„å ´åˆã€‚

```tsx
"use client";
import { Grid, GridItem } from '@chakra-ui/react';
import { Body } from './Body';
import { Footer } from './Footer';
import { Header } from './Header';

function Sample() {
  return (
    <Grid>
      <GridItem><Header /></GridItem>
      <GridItem><Body /></GridItem>
      <GridItem><Footer /></GridItem>
    </Grid>
  );
}
```

â€» Header, Body, Footer ã®ã„ãšã‚Œã‹ã€ã¾ãŸã¯å…¨ã¦ãŒã€Server Componentã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã—ã¾ã™ã€‚ï¼ˆ`next/headers` ã‚’ä½¿ã†ãªã©ï¼‰

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€Client Componentã‹ã‚‰Server Componentã‚’importã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

## è§£æ±ºç­–

ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ã®Componentã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ‡ã‚Šå‡ºã—ã¦ã€ãã‚Œã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

```tsx
'use client';
import { Grid, GridItem } from '@chakra-ui/react';

type Props = {
  header: React.ReactNode;
  body: React.ReactNode;
  footer: React.ReactNode;
};

export function PageLayout({ header, body, footer }: Props) {
  return (
    <Grid>
      <GridItem>{header}</GridItem>
      <GridItem>{body}</GridItem>
      <GridItem>{footer}</GridItem>
    </Grid>
  );
}
```

```tsx
import { Body } from './Body';
import { Footer } from './Footer';
import { Header } from './Header';
import { PageLayout } from './PageLayout';

function Sample() {
  return (
    <PageLayout
      header={<Header />}
      body={<Body />}
      footer={<Footer />}
    />
  );
}
```

ã“ã‚Œã§ã€Client Componentã‹ã‚‰Server Componentã‚’importã›ãšã«Layoutã‚’å®Ÿç¾ã§ãã¾ã™ã€‚

## ä½•ãŒå¬‰ã—ã„ã‹

Layoutå´ã§Suspenseã‚’ä½¿ã£ã¦ã€éƒ¨åˆ†ã”ã¨ã«fallbackã‚’è¨­å®šã§ãã‚‹ã®ãŒå¬‰ã—ã„ç‚¹ã§ã™ã€‚

```tsx
export function PageLayout({ header, body, footer }: Props) {
  return (
    <Grid>
      <GridItem>
        <Suspense fallback={<Loading />}>{header}</Suspense>
      </GridItem>
      <GridItem>
        <Suspense fallback={<Loading />}>{body}</Suspense>
      </GridItem>
      <GridItem>{footer}</GridItem>
    </Grid>
  );
}
```

## å‚è€ƒè³‡æ–™

Next.jsã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä»¥ä¸‹ã®ã‚ãŸã‚Šã«ã€propsã§æ¸¡ã™(é€šå¸¸ã¯children)æ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚
https://nextjs.org/docs/getting-started/react-essentials#nesting-server-components-inside-client-components
